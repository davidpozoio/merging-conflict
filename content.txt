version3 bug fixed